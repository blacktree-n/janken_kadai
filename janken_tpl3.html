<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<script src="js/jquery-2.1.3.min.js"></script>
<link rel="stylesheet" href="css/sample.css">
<link rel="stylesheet" href="css\nav_bar.css">
<title>じゃんけん</title>
</head>
<body>

<header>
  <div class="nav_bar_load"></div>
  <h1>じゃんけんVer1.2(関数化)</h1>
</header>

<main>
  <ul>
    <li id="gu_btn">グー</li>
    <li id="cho_btn">チョキ</li>
    <li id="par_btn">パー</li>
  </ul>
  <div>コンピュータの出した手は...「<span id="pc_hands"></span>」</div>
  <div>今回の結果は・・・<span  id="judgment"></span></div>
  <div>通算結果：<span id="win_time"></span>勝　<span id="lose_time"></span>負　<span id="drow_time"></span>引き分け (<span id="run_time"></span>戦中)</div>
</main>

<footer></footer>
<script>
$('#nav_bar_load').load('nav_var.html');

// 初期値、初期表示の設定
let user_num = 0;
let win_time = 0;
let lose_time = 0;
let drow_time = 0;
let run_time = 0;
count_display();

// グー、チョキ、パーを選択した場合の場合わけ
$("#gu_btn").on("click",function(){
  user_num = 1;
  judge();
  count_display();
})
$("#cho_btn").on("click",function(){
  user_num = 2;
  judge();
  count_display();
})
$("#par_btn").on("click",function(){
  user_num = 3;
  judge();
  count_display();
})

// 表示の更新をする関数
function count_display(){
  $("#win_time").html(win_time);
  $("#lose_time").html(lose_time);
  $("#drow_time").html(drow_time);
  $("#run_time").html(run_time);
} 

// コンピュータの出した手、勝ち負けの判定を表示する関数
function judge(){
  const num = Math.ceil( Math.random() * 3);
  if(num==1){
    $("#pc_hands").html("グー");
    if(user_num==1){
      $("#judgment").html("引き分け");
      drow_time += 1;
    }else if(user_num==2){
      $("#judgment").html("負け");
      lose_time +=1;
    }else if(user_num==3){
      $("#judgment").html("勝ち");
      win_time += 1;
    }
  }
  if(num==2){
    $("#pc_hands").html("チョキ");
    if(user_num==2){
      $("#judgment").html("引き分け");
      drow_time += 1;
    }else if(user_num==3){
      $("#judgment").html("負け");
      lose_time +=1;
    }else if(user_num==1){
      $("#judgment").html("勝ち");
      win_time += 1;
    }
  }
  if(num==3){
    $("#pc_hands").html("パー");
    if(user_num==3){
      $("#judgment").html("引き分け");
      drow_time += 1;
    }else if(user_num==1){
      $("#judgment").html("負け");
      lose_time +=1;
    }else if(user_num==2){
      $("#judgment").html("勝ち");
      win_time += 1;
    }
  }
  run_time += 1;
}

</script>
</body>
</html>